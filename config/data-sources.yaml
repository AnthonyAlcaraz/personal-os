# Data Sources Configuration
# Define database connections for the DataAgent
# Use {{ env('VAR_NAME') }} for credentials (resolved from .env at runtime)

databases:
  # Example: Local DuckDB for analytics
  # - name: local-analytics
  #   type: duckdb
  #   path: ./data/analytics.duckdb
  #   include: []
  #   exclude:
  #     - "staging.*"

  # Example: Postgres
  # - name: prod-postgres
  #   type: postgres
  #   host: "{{ env('PG_HOST') }}"
  #   port: 5432
  #   database: "{{ env('PG_DATABASE') }}"
  #   user: "{{ env('PG_USER') }}"
  #   password: "{{ env('PG_PASSWORD') }}"
  #   ssl: true
  #   include:
  #     - "public.*"
  #     - "analytics.*"
  #   exclude: []

  # Example: Snowflake
  # - name: company-snowflake
  #   type: snowflake
  #   account: "{{ env('SF_ACCOUNT') }}"
  #   user: "{{ env('SF_USER') }}"
  #   password: "{{ env('SF_PASSWORD') }}"
  #   warehouse: "{{ env('SF_WAREHOUSE') }}"
  #   database: "{{ env('SF_DATABASE') }}"
  #   role: "{{ env('SF_ROLE') }}"
  #   include:
  #     - "analytics.*"
  #   exclude:
  #     - "*.tmp_*"

  # Example: BigQuery
  # - name: analytics-bigquery
  #   type: bigquery
  #   project: "{{ env('BQ_PROJECT') }}"
  #   credentials_path: "{{ env('GOOGLE_APPLICATION_CREDENTIALS') }}"
  #   dataset: "{{ env('BQ_DATASET') }}"
  #   include: []
  #   exclude: []

  # Example: Databricks
  # - name: databricks-lakehouse
  #   type: databricks
  #   host: "{{ env('DBX_HOST') }}"
  #   http_path: "{{ env('DBX_HTTP_PATH') }}"
  #   token: "{{ env('DBX_TOKEN') }}"
  #   catalog: "{{ env('DBX_CATALOG') }}"
  #   include: []
  #   exclude: []

  # Example: Redshift
  # - name: redshift-dw
  #   type: redshift
  #   host: "{{ env('RS_HOST') }}"
  #   port: 5439
  #   database: "{{ env('RS_DATABASE') }}"
  #   user: "{{ env('RS_USER') }}"
  #   password: "{{ env('RS_PASSWORD') }}"
  #   include:
  #     - "public.*"
  #   exclude: []

  # Example: SQL Server
  # - name: legacy-mssql
  #   type: mssql
  #   host: "{{ env('MSSQL_HOST') }}"
  #   port: 1433
  #   database: "{{ env('MSSQL_DATABASE') }}"
  #   user: "{{ env('MSSQL_USER') }}"
  #   password: "{{ env('MSSQL_PASSWORD') }}"
  #   driver: "ODBC Driver 18 for SQL Server"
  #   include: []
  #   exclude: []

# Monitor queries: track KPIs and detect anomalies
monitors: []
  # Example:
  # - source: prod-postgres
  #   queries:
  #     - name: daily_revenue
  #       sql: "SELECT SUM(amount) as value FROM orders WHERE created_at >= CURRENT_DATE"
  #       alert_when: "value < 1000"
  #     - name: new_signups
  #       sql: "SELECT COUNT(*) as value FROM users WHERE created_at >= CURRENT_DATE"
  #       alert_when: "change_pct > 50"
